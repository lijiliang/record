<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script src="../avalon.js"></script>
</head>
<body>
	<!-- <div ms-controller="box">
		<ul>
			<li><input type="checkbox" ms-click="checkAll" ms-attr-checked="checkAllbool">全选</li>
			<li ms-repeat="arr"><input type="checkbox" ms-vlaue="el" ms-duplex="selected">{{el}}</li>
		</ul>
	</div>
	<script>
	var vm = avalon.define({
                $id: "box",
                arr : ["1", '2', "3", "4"],
                selected : ["2", "3"],
                checkAllbool : false,
                checkAll : function() {
                    if (this.checked) {
                        vm.selected = vm.arr
                    } else {
                        vm.selected.clear()
                    }
                }
            })
            vm.checkAllbool = vm.arr.length === vm.selected.length
            vm.selected.$watch("length", function(n) {
                vm.checkAllbool = n === vm.arr.size()
            })
	</script> 
	-->
	<div ms-controller="duplex">
		<input ms-duplex="username" data-duplex-cheanged="callback">
	</div>
	<script>
	avalon.define({
		$id: "duplex",
		username : "liang ji li sdfasd",
		callback : function(val){
			avalon.log(val)
			avalon.log(this)
			return this.value = val.slice(0, 10)
		}
	})
	</script>
</body>
</html>